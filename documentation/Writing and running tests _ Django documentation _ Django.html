<!DOCTYPE html>
<!-- saved from url=(0062)https://docs.djangoproject.com/en/1.8/topics/testing/overview/ -->
<html lang="en" class=" mdzr-js mdzr-borderradius mdzr-boxshadow mdzr-cssanimations mdzr-svg"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="ROBOTS" content="ALL">
    <meta http-equiv="imagetoolbar" content="no">
    <meta name="MSSmartTagsPreventParsing" content="true">
    <meta name="Copyright" content="Django Software Foundation">
    <meta name="keywords" content="Python, Django, framework, open-source">
    <meta name="description" content="">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="https://docs.djangoproject.com/s/img/icon-touch.e4872c4da341.png">
    <link rel="icon" sizes="192x192" href="https://docs.djangoproject.com/s/img/icon-touch.e4872c4da341.png">
    <link rel="shortcut icon" href="https://docs.djangoproject.com/s/img/favicon.6dbf28c0650e.ico">
    <meta name="msapplication-TileColor" content="#113228">
    <meta name="msapplication-TileImage" content="/s/img/icon-tile.b01ac0ef9f67.png">

    <title>Writing and running tests | Django documentation | Django</title>

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="/s/css/output-ie.02a0f90a8359.css" >
     <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="./Writing and running tests _ Django documentation _ Django_files/output.5c6820f19a51.css">
    <!--<![endif]-->
    <script src="./Writing and running tests _ Django documentation _ Django_files/webfontloader.e75218f5f090.js"></script><style type="text/css"></style>
    <link rel="stylesheet" href="./Writing and running tests _ Django documentation _ Django_files/css"><script>
    WebFont.load({
      custom: {
        families: ['FontAwesome', 'Fira+Mono'],
      },
      google: {
        families: ['Roboto:400italic,700italic,300,700,400:latin'
        ]
      },
      classes: false,
      events: false,
      timeout: 1000
    });
    </script>
    <script src="./Writing and running tests _ Django documentation _ Django_files/modernizr.3b36762e418a.js"></script>
    
  
  <link rel="canonical" href="https://docs.djangoproject.com/en/stable/topics/testing/overview/">
  
  <link rel="search" type="application/opensearchdescription+xml" href="https://docs.djangoproject.com/en/1.8/search/description/" title="Django documentation">

  </head>

  <body id="generic" class="">

    <div role="banner" id="top">
  <div class="container">
    <a class="logo" href="https://www.djangoproject.com/">Django</a>
    <p class="meta">The web framework for perfectionists with deadlines.</p>
    <div role="navigation">
      <ul>
        <li>
          <a href="https://www.djangoproject.com/start/overview/">Overview</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/download/">Download</a>
        </li>
        <li class="active">
          <a href="https://docs.djangoproject.com/">Documentation</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/weblog/">News</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/community/">Community</a>
        </li>
        <li>
          <a href="https://code.djangoproject.com/">Code</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/foundation/">About</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/fundraising/">♥ Donate</a>
        </li>
      </ul>
    </div>
  </div>
</div>


    <div class="copy-banner">
      <div class="container">
        
  <h1><a href="https://docs.djangoproject.com/en/1.8/">Documentation</a></h1>

      </div>
    </div>
    <div id="billboard"></div>

    <div class="container sidebar-right">
      <div role="main">
        

<ul id="doc-versions" class="version-switcher">
  
  
  <li class="other">
    
    <a href="https://docs.djangoproject.com/en/1.5/topics/testing/overview/">1.5</a>
    
  </li>
  
  
  
  <li class="other">
    
    <a href="https://docs.djangoproject.com/en/1.6/topics/testing/overview/">1.6</a>
    
  </li>
  
  
  
  <li class="other">
    
    <a href="https://docs.djangoproject.com/en/1.7/topics/testing/overview/">1.7</a>
    
  </li>
  
  
  
  
  
  <li class="other">
    
    <a href="https://docs.djangoproject.com/en/1.9/topics/testing/overview/">1.9</a>
    
  </li>
  
  
  
  <li class="other">
    
    <a href="https://docs.djangoproject.com/en/dev/topics/testing/overview/">dev</a>
    
  </li>
  
  
  <li class="current" title="This document describes Django 1.8. Click on the links on the left to see other versions.">
  <span>Documentation version:
    <strong>1.8
      </strong>
    </span>
  </li>
</ul>


<div id="docs-content">
<div class="section" id="s-module-django.test">
<span id="s-writing-and-running-tests"></span><span id="module-django.test"></span><span id="writing-and-running-tests"></span><h1>Writing and running tests<a class="headerlink" href="https://docs.djangoproject.com/en/1.8/topics/testing/overview/#module-django.test" title="Permalink to this headline">¶</a></h1>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/intro/tutorial05/"><em>testing tutorial</em></a>, the <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/topics/testing/tools/"><em>testing tools
reference</em></a>, and the <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/topics/testing/advanced/"><em>advanced testing topics</em></a>.</p>
</div>
<p>This document is split into two primary sections. First, we explain how to write
tests with Django. Then, we explain how to run them.</p>
<div class="section" id="s-writing-tests">
<span id="writing-tests"></span><h2>Writing tests<a class="headerlink" href="https://docs.djangoproject.com/en/1.8/topics/testing/overview/#writing-tests" title="Permalink to this headline">¶</a></h2>
<p>Django’s unit tests use a Python standard library module: <a class="reference external" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="(in Python v3.5)"><tt class="xref py py-mod docutils literal"><span class="pre">unittest</span></tt></a>. This
module defines tests using a class-based approach.</p>
<p>Here is an example which subclasses from <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/topics/testing/tools/#django.test.TestCase" title="django.test.TestCase"><tt class="xref py py-class docutils literal"><span class="pre">django.test.TestCase</span></tt></a>,
which is a subclass of <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">unittest.TestCase</span></tt></a> that runs each test inside a
transaction to provide isolation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="kn">from</span> <span class="nn">myapp.models</span> <span class="kn">import</span> <span class="n">Animal</span>

<span class="k">class</span> <span class="nc">AnimalTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Animal</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"lion"</span><span class="p">,</span> <span class="n">sound</span><span class="o">=</span><span class="s">"roar"</span><span class="p">)</span>
        <span class="n">Animal</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"cat"</span><span class="p">,</span> <span class="n">sound</span><span class="o">=</span><span class="s">"meow"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_animals_can_speak</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Animals that can speak are correctly identified"""</span>
        <span class="n">lion</span> <span class="o">=</span> <span class="n">Animal</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"lion"</span><span class="p">)</span>
        <span class="n">cat</span> <span class="o">=</span> <span class="n">Animal</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"cat"</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">lion</span><span class="o">.</span><span class="n">speak</span><span class="p">(),</span> <span class="s">'The lion says "roar"'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cat</span><span class="o">.</span><span class="n">speak</span><span class="p">(),</span> <span class="s">'The cat says "meow"'</span><span class="p">)</span>
</pre></div>
</div>
<p>When you <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/topics/testing/overview/#running-tests"><em>run your tests</em></a>, the default behavior of the
test utility is to find all the test cases (that is, subclasses of
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">unittest.TestCase</span></tt></a>) in any file whose name begins with <tt class="docutils literal"><span class="pre">test</span></tt>,
automatically build a test suite out of those test cases, and run that suite.</p>
<p>For more details about <a class="reference external" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="(in Python v3.5)"><tt class="xref py py-mod docutils literal"><span class="pre">unittest</span></tt></a>, see the Python documentation.</p>
<div class="admonition-where-should-the-tests-live admonition">
<p class="first admonition-title">Where should the tests live?</p>
<p>The default <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-startapp"><tt class="xref std std-djadmin docutils literal"><span class="pre">startapp</span></tt></a> template creates a <tt class="docutils literal"><span class="pre">tests.py</span></tt> file in the
new application. This might be fine if you only have a few tests, but as
your test suite grows you’ll likely want to restructure it into a tests
package so you can split your tests into different submodules such as
<tt class="docutils literal"><span class="pre">test_models.py</span></tt>, <tt class="docutils literal"><span class="pre">test_views.py</span></tt>, <tt class="docutils literal"><span class="pre">test_forms.py</span></tt>, etc. Feel free to
pick whatever organizational scheme you like.</p>
<p class="last">See also <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/topics/testing/advanced/#testing-reusable-applications"><em>Using the Django test runner to test reusable applications</em></a>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>If your tests rely on database access such as creating or querying models,
be sure to create your test classes as subclasses of
<a class="reference internal" href="https://docs.djangoproject.com/en/1.8/topics/testing/tools/#django.test.TestCase" title="django.test.TestCase"><tt class="xref py py-class docutils literal"><span class="pre">django.test.TestCase</span></tt></a> rather than <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">unittest.TestCase</span></tt></a>.</p>
<p class="last">Using <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">unittest.TestCase</span></tt></a> avoids the cost of running each test in a
transaction and flushing the database, but if your tests interact with
the database their behavior will vary based on the order that the test
runner executes them. This can lead to unit tests that pass when run in
isolation but fail when run in a suite.</p>
</div>
</div>
<div class="section" id="s-running-tests">
<span id="s-id1"></span><span id="running-tests"></span><span id="id1"></span><h2>Running tests<a class="headerlink" href="https://docs.djangoproject.com/en/1.8/topics/testing/overview/#running-tests" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve written tests, run them using the <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-test"><tt class="xref std std-djadmin docutils literal"><span class="pre">test</span></tt></a> command of
your project’s <tt class="docutils literal"><span class="pre">manage.py</span></tt> utility:</p>
<div class="highlight-python"><div class="highlight"><pre>$ ./manage.py test
</pre></div>
</div>
<p>Test discovery is based on the unittest module’s <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest-test-discovery" title="(in Python v3.5)"><em class="xref std std-ref">built-in test
discovery</em></a>.  By default, this will discover tests in
any file named “test*.py” under the current working directory.</p>
<p>You can specify particular tests to run by supplying any number of “test
labels” to <tt class="docutils literal"><span class="pre">./manage.py</span> <span class="pre">test</span></tt>. Each test label can be a full Python dotted
path to a package, module, <tt class="docutils literal"><span class="pre">TestCase</span></tt> subclass, or test method. For instance:</p>
<div class="highlight-python"><div class="highlight"><pre># Run all the tests in the animals.tests module
$ ./manage.py test animals.tests

# Run all the tests found within the 'animals' package
$ ./manage.py test animals

# Run just one test case
$ ./manage.py test animals.tests.AnimalTestCase

# Run just one test method
$ ./manage.py test animals.tests.AnimalTestCase.test_animals_can_speak
</pre></div>
</div>
<p>You can also provide a path to a directory to discover tests below that
directory:</p>
<div class="highlight-python"><div class="highlight"><pre>$ ./manage.py test animals/
</pre></div>
</div>
<p>You can specify a custom filename pattern match using the <tt class="docutils literal"><span class="pre">-p</span></tt> (or
<tt class="docutils literal"><span class="pre">--pattern</span></tt>) option, if your test files are named differently from the
<tt class="docutils literal"><span class="pre">test*.py</span></tt> pattern:</p>
<div class="highlight-python"><div class="highlight"><pre>$ ./manage.py test --pattern="tests_*.py"
</pre></div>
</div>
<p>If you press <tt class="docutils literal"><span class="pre">Ctrl-C</span></tt> while the tests are running, the test runner will
wait for the currently running test to complete and then exit gracefully.
During a graceful exit the test runner will output details of any test
failures, report on how many tests were run and how many errors and failures
were encountered, and destroy any test databases as usual. Thus pressing
<tt class="docutils literal"><span class="pre">Ctrl-C</span></tt> can be very useful if you forget to pass the <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/ref/django-admin/#django-admin-option---failfast"><tt class="xref std std-djadminopt docutils literal"><span class="pre">--failfast</span></tt></a>
option, notice that some tests are unexpectedly failing, and want to get details
on the failures</p></div></div></div></div></div></body></html>